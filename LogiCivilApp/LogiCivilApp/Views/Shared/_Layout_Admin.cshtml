@using Microsoft.AspNetCore.Http
@using System.Text.Json
@{
    string? profil_Name = Context.Session.GetString("PrName_User");
    var userData = Context.Session.GetString("User");
    Utilisateur? user = JsonSerializer.Deserialize<Utilisateur>(userData); ;
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - LogiCivilApp</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/LogiCivilApp.styles.css" asp-append-version="true" />

    <!-- Main CSS-->
    <link rel="stylesheet" type="text/css" href="~/css/main.css">
    <!-- Font-icon css-->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

</head>
<body class="app sidebar-mini">

    <header class="app-header">
        <a class="app-header__logo" href="index.html">
            <img src="https://www.svgrepo.com/show/282312/kilograms-justice.svg" width="30" height="30" style="margin-bottom:15px">
            Logicivil
        </a>
        <a class="app-sidebar__toggle" data-toggle="sidebar" aria-label="Hide Sidebar"></a>
        <!-- Navbar Right Menu-->
        <ul class="app-nav">
            <li class="app-search">
                <h4 style="color:floralwhite; font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif">@user.Nom @user.Prenom</h4>
            </li>
            <li class="dropdown">
                <a class="app-nav__item" href="#" data-bs-toggle="dropdown" aria-label="Open Profile Menu"><i class="bi bi-person fs-4"></i></a>
                <ul class="dropdown-menu settings-menu dropdown-menu-right">
                    <li><a class="dropdown-item" href="" style="background-color:#222d32; color:white"><i class="bi bi-person fs-4"></i> @user.Nom @user.Prenom</a></li>
                    <li><a class="dropdown-item" asp-action="LogOut" asp-controller="Login"><i class="bi bi-box-arrow-right me-2 fs-5"></i> Logout</a></li>
                </ul>
            </li>
        </ul>
    </header>

    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
        <div class="app-sidebar__user">
            @* <img class="app-sidebar__user-avatar" src="https://cdn-icons-png.flaticon.com/256/10529/10529010.png" alt="User Image"> *@
            <img class="app-sidebar__user-avatar" src=" https://cdn-icons-png.flaticon.com/128/610/610389.png" alt="User Image">
            <div>
                <p class="app-sidebar__user-name">Compte</p>
                <p class="app-sidebar__user-designation">@profil_Name</p>
            </div>
        </div>
        <ul class="app-menu">
            <li><a class="app-menu__item" id="stat-global" asp-action="Index" asp-controller="StatGlobal"><i class="app-menu__icon bi bi-bar-chart" style="font-size:20px;"></i><span class="app-menu__label">Stat Global</span></a></li>
            <li class="treeview">
                <a class="app-menu__item" id="dashboard" data-toggle="treeview"><i class="app-menu__icon bi bi-speedometer" style="font-size:20px;"></i><span class="app-menu__label">Dashboard</span><i class="treeview-indicator bi bi-chevron-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" id="section-dash"><i class="icon bi bi-check-square"></i> Section </a></li>
                    <li><a class="treeview-item" id="nature-affaire-dash"><i class="icon bi bi-check-square"></i> Nature Affaire </a></li>
                    <li><a class="treeview-item" id="montant-paye-dash"><i class="icon bi bi-check-square"></i> Montant Payé </a></li>
                    <li><a class="treeview-item" id="motif-renvoie-dash"><i class="icon bi bi-check-square"></i> Motif de Renvoie </a></li>
                </ul>
            </li>
            <li><a class="app-menu__item" id="utilisateur" asp-action="Index" asp-controller="Utilisateur"><i class="app-menu__icon bi bi-person-bounding-box" style="font-size:20px;"></i><span class="app-menu__label">Utilisateur</span></a></li>
            <li class="treeview">
                <a class="app-menu__item" id="parametrage" data-toggle="treeview"><i class="app-menu__icon bi bi-nut" style="font-size:20px;"></i><span class="app-menu__label">Paramètrage</span><i class="treeview-indicator bi bi-chevron-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" id="nature-affaire-param"><i class="icon bi bi-check-square"></i> Nature Affaire </a></li>
                    <li><a class="treeview-item" id="type-affaire"><i class="icon bi bi-check-square"></i> Type Affaire </a></li>
                    <li><a class="treeview-item" id="motif-renvoie-param"><i class="icon bi bi-check-square"></i> Motif de Renvoie </a></li>
                    <li><a class="treeview-item" id="section-param"><i class="icon bi bi-check-square"></i> Section </a></li>
                    <li><a class="treeview-item" id="sous-section"><i class="icon bi bi-check-square"></i> Sous-Section </a></li>
                </ul>
            </li>
        </ul>
    </aside>



    <main role="main" class="app-content">
        @RenderBody()
    </main>


    @* Footer start *@
    <div class="footer" style="text-align:center">
        <div class="copyright">
            <p></p>
            <p>Copyright © Designed &amp; Developed by <a href="" target="_blank">Mandresy Sahaza</a> 2024  </p>
        </div>
    </div>
    @* Footer end *@



    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    <!-- Template -->
    <script src="~/js/main.js"></script>

    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>
